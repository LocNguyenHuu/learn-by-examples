{"paragraphs":[{"title":"share variables between pyspark/spark","text":"// matplotlib on Zeppelin share variables between pyspark/spark\ndata.registerTempTable(\"df\")","dateUpdated":"Jul 13, 2016 11:47:47 AM","config":{"enabled":true,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","editorHide":true,"colWidth":12,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468392467681_1612799204","id":"20160713-064747_2066442959","dateCreated":"Jul 13, 2016 6:47:47 AM","dateStarted":"Jul 13, 2016 8:26:26 AM","dateFinished":"Jul 13, 2016 8:26:27 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6627","errorMessage":""},{"title":"Define helper function to show plot","text":"%pyspark\n\nimport matplotlib.pyplot as plt; plt.rcdefaults()\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport StringIO\nimport pandas as pd\n\ndef show(p):\n    img = StringIO.StringIO()\n    p.savefig(img, format='svg')\n    img.seek(0)\n    print \"%html <div style='width:600px'>\" + img.buf + \"</div>\"","dateUpdated":"Jul 13, 2016 8:41:05 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468398412248_-1463968828","id":"20160713-082652_1159715858","dateCreated":"Jul 13, 2016 8:26:52 AM","dateStarted":"Jul 13, 2016 8:26:55 AM","dateFinished":"Jul 13, 2016 8:26:55 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6628","errorMessage":""},{"text":"%pyspark\n\n\n# read table from sqlContext\ndf = sqlContext.table(\"df\").cache()\n# create Pandas Dataframe\npdf = df.select('chd','age','tobacco','sbp','obesity','alcohol').toPandas()\n","dateUpdated":"Jul 13, 2016 8:40:49 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468397115722_57262092","id":"20160713-080515_1149836161","dateCreated":"Jul 13, 2016 8:05:15 AM","dateStarted":"Jul 13, 2016 8:40:51 AM","dateFinished":"Jul 13, 2016 8:40:52 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6629","errorMessage":""},{"title":"Plot using Pandas Plotting","text":"%pyspark\n\nplt.style.use('ggplot')\naxes = pd.tools.plotting.scatter_matrix(pdf,alpha=0.5,figsize=(10,10),diagonal='kde') \nplt.tight_layout()\nshow(plt)","dateUpdated":"Jul 13, 2016 8:46:13 AM","config":{"enabled":true,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","editorHide":false,"colWidth":12,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468392467681_1612799204","id":"20160713-064747_1601272629","dateCreated":"Jul 13, 2016 6:47:47 AM","dateStarted":"Jul 13, 2016 8:40:59 AM","dateFinished":"Jul 13, 2016 8:41:08 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6630","errorMessage":"","focus":true},{"title":"Plot using Seaborn","text":"%pyspark\n\nimport seaborn as sns; sns.set(style=\"ticks\", color_codes=True)\ng = sns.pairplot(pdf,hue=\"chd\")\nshow(g)","dateUpdated":"Jul 13, 2016 8:49:46 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468392467681_1612799204","id":"20160713-064747_324011399","dateCreated":"Jul 13, 2016 6:47:47 AM","dateStarted":"Jul 13, 2016 8:49:49 AM","dateFinished":"Jul 13, 2016 8:50:05 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6631","errorMessage":"","focus":true},{"text":"%pyspark\n\nqplot_tobacco_alcohol = sns.lmplot(\"tobacco\", \"alcohol\", pdf, col=\"chd\", fit_reg = False)\nshow(qplot_tobacco_alcohol)","dateUpdated":"Jul 13, 2016 8:44:33 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468396304243_894723651","id":"20160713-075144_35627876","dateCreated":"Jul 13, 2016 7:51:44 AM","dateStarted":"Jul 13, 2016 8:44:17 AM","dateFinished":"Jul 13, 2016 8:44:20 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6632","errorMessage":"","focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1468399147750_932075990","id":"20160713-083907_964593556","dateCreated":"Jul 13, 2016 8:39:07 AM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:6633","errorMessage":""}],"name":"Scoring Heart Disease Data - Part 3.2 - Exploratory Analysis","id":"2BPYK8U9V","angularObjects":{"2B44YVSN1":[],"2AJXGMUUJ":[],"2AK8P7CPX":[],"2AM1YV5CU":[],"2AKK3QQXU":[],"2ANGGHHMQ":[]},"config":{"looknfeel":"default"},"info":{}}